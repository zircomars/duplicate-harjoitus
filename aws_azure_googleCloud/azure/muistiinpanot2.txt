7.12. azure oppitunti ja muistiinpanot

jos vanha resurssi kiintiö täyteen (prosessorit ja jne)

-- azure web apps

ajaa jotain kautta sovellusta pilvessä, tyyppillisesti web sovelluksesta & mobiilisovelluksia ja muita app sovelluksia, josta asennettaan virtuaalikonen päälle, ja on monen tapa suorittaa pilvestä

azuresta marketplace ja pyörittää pilvestä

luodaan loogisia palvelua, ja keskittyä sisäisen 

web apps componenti service

luominen, skaalaus, konffauas

app service - vastaa kaikki sovellus palveluista se mahdollistaa niiden suorittamisen eri komponentien pältä vaikka virtuaali kone tai looginen pavleli , serveri ratkaisu
web apps - työnkulua, rivin eri toiminta ja loppu peleissä muodostuu jotakin, mm käytettään eniten iot:ssa,

container julkaise ja multiple julkaisu, suoritettaan virtuaalikonen oäällä
kubertnetes, kontainer raskaampi, mitä tarjoaa hallitna ratkaisua (azure kubernetes service) 

deploy/publish azure web app, voi käyttää microsoft visual studio, visual studio team service ja muita työkaluja, azure marketplace, web deploy

monitorointi azuer web apps - perus näkymä sovelluksen suorituksesta, jos tarkempi azurem onitorointi on se työkalu ja se tekee hälytyksiä, 
azure web app play hälytyksiä, mutta niitä ei saa enään ja lisä palvelu (app insight telemetry) seuraa sovelluksen käyttöä komponentien käyttöä,
jos tarkempi azure web apps diagnostics joka on lisäpalvelut jos otettan käyttöön ja käyttöön loogisen palveilsen lokitusta, yksityiset 
ja ilmoitukset, ja epäonnistunet palvelupyynnöt ja syystä ei vastanut ja miksi jäännyt vaiheseen, ja sovelluksen oma lokitus, jos lokit pitää tallentaa nii azure web app file system tai johonkin tiedosto tallentukseen (azure storage)

------------------------------------------------

azure networking

verkko asisoilla on pieni rooli azuressa, mikä ei toimi perinteinen rooli vaan siinä pitää olla vpn tunneli jos kaksi tai useampi rooli

ei ole tarkoitus luoda verkkoympäristö siinä aliverkkoja ja jne,

tyyppillisesti automaattisesti luoda luoda verkko ja sille aliverkko ja siihen tulee resursssia ja mihin vaaditaan verkko esim. virtuaaliverkko

toinen asia, load balance

kun aina luodaan aina läsnä oloa joko automaattinen tai käsipelissä , jokaiselle virtuaalikonelle on luotu verkko eli www ja muita protokollia, ja osoite avaruus esim. 10.0.0/16

erillisenä subnet, esim. wordpress luonut aliverkkoja ellei /24 suoraan tai rinnallinen aliverkko /24 255.255.255.0 , vaan azure wordpress yhteydessä toki visaldia voi määrittää käsin

mitkä palvelut edellyttää virtuaalikonetta, mikäli edellyttää niin ja käsipelissä on ok 

ominaisuuksia ei ole kauheasti, dynaaminen osoite jakelu eli 10.0.0.0 & sisäisen dns verkkopalvelua ja ei ole muokatavissa

asenettaan virtuaalikone ja siitä kohti virtuaali dns

kattava vpn

perus verkko protokolla

RFC 1918 privaatti ip osoite

tukee cross-virutal network, virtuaalinen verkko on tukenut, mutta ei ole valmiina ja samana cross-premssis on saatavilal azure verkkoon, että firman aidalla on tukena ja tukena azure pilviin ja kommunikoi kesksennään ja toteutunut
missä resurssis tarvii (azure vm, vm scale sets, azure app gateway [toimiva proxy, jossa pilvissessä sovelluksen keskennän raja ja autnethikointi])

resurssit jotka tukee virtuaalikonetta esim. point-to-site vpn viittaa yhdestä verkosta pääsy virtuaalkoneeseen/pilveen ja sitä pitää tehdä vpn tunnelilla, ja on laajempi versio organisaatio azure site-to-site, että tukee ja oletuksena ei ole siellä
service bus - pitää data on premsisis ympäristöä yks esim. sähköinen kauppa kun tulee tilauksia, maksu suorittamista ei vältämättä ei käsittä ppilvessä jatko prosessointi on premisiss ympräsitsösä ja maksu tapahtuma tilausket tehdään samassa paikassa ja muissa tilanteessa esim. iot ratakaisu
event hub käytettään striimaus ja iot rakenteen, sen iot hub ottaa vastaan telemetriaa ja siitä ohjataan event hub:lle ja perään looginen sovellus , työnkulku , se lukee sen data ja kun dataa even hub ja siitä kirjoitettaan tietokantaan, minne se tieto kohdistuu nii kohdistuu service bus


dynaamiset ip -osoittee ellei sotke niitä azuressa

azure dhcp palvelu, mitä tukee kiinteä ip-osoite virtuaalikone, koska ne on palvelimia

dns nimen selvitys joko automaatinen yhden verkon sisällä tai asiakas verkko rakentaa pääle

network security group - luodaan henilökohtainen palomuuri ja sama app seuciryt ja sillä voi suodata protooklla liikennettä tai sovellus liiikkennettä

direct paas - yhteydenotto end pointiin, ei annettuihin ip-osoite, verkkoon tai muihin

traffic routing - reititys , voi reitittää haluamalla reitiyts, vps voi ottaa pakotettu ipsec tunneloitu virtuaali reititisy vpn tunneli

cross-premises: p2s vpn, s2s vpn, expresss route(yritykselle voi /kautta pilven verkkoja käyttää)
cross-vnet: vnet peering (vpn ei ole, pikkasen hankala toteuttaa ja konffaus pitää tehdä), vnet-to-vnet

jos määrittää ip-osoitteen, jos määrittää cross premisis yrityksen välinen yhteys pitää olla tarkana, ettei tuu päällekkäin osoteitta, mutta azure huomaa jos tulee pällekäinen osoite & tyyppilisesti käytetään /16 tai 24 maskia, maks 29 bittinen saa verkko n. 2 konetta

associate network security groups 

load balancer - ei tarvi verkkoa itsensä, mutta siellä backend pool tarvii sen esim. windows:ssa nyt se toimii erilailla edustaa palvelu ei konetta

kun käyttäjä ottaa yhteyttä 443 https liikennettä se piste on loadbalance yhteys kohti end point se välittää palvleu pyynnön backend pool ja sitä kohti n-konetta virtual machine (identtisiä), se aina backedn pool välitettään palvelu pyyntö sillä hetkell äon vähiten kuormaa iot,muistia ja prosessia, oma algoritmi ja hetkisen koneen,
jos tulee jokin ongelma jos backend tippuu alas nii ei aiheutta liiknettä heti, koska jää  x määrä

load balancer - pitää kirjan pitoa x kone, nii ei ohjaa sinne vaan sitten kun kone pollaus nousee ja ohjaa muita palvelu pyuyntöjä,

sääntöjä pitää rakentaa, ja 

backend pool palvelimet pool, probe pollaus sääntö, outbound ulos sääntö, inbound nat osoitteen muutos hallinto

------------------------------------------------
pe ei ole opetusta :DD ja saa tehdä vaapa ehtoisesti

module 6 azure storage & data services

perustumaan tili & data services (tietokanta palvelut), sql tietokanta palvelut 

storage palvelut luodaan storage accounts (azuressa) vastaa virtuaalikone levyt ja muistit. block storage, vaihto file storage & taulukko muotoinen, 

blob storage voi olla useita tyyppisiä riippuu datasta ei ole rakenne vaatimusta ei muuta, mutta käyttö osalta on paras vaihtoehto (page, block, append blobs)

SQL tietokanta pilvessä

kaks vaihtoehto azure sql database tai azure vm päältä eli iaas tapaus, ssql databse resiliency ja skaalausta

sql database tietokanta & sql server - perus palvelin luominen

yhteys katnaan azure on huonosti ql editor - kanta voi hyödyntää lausekeen avulla

sovelluksiin connection string

päsyn hallinta koneesta ei pääsee tietokantaan käsiksi, koska siihen pitää avata palomuuria esim. sql on oma palomuuri sinnekin pitää client id, koska vastaamaton hölmöjä pilveen ilman salasanaa ja siksi estetti,
vaihtoehtona on sql authentikointi tai azure active directory , mutta siihen pitää lisätä sql tietokantaan blade admin tili, koska jotta sallitaan ryhmä tai useamin kkyttäjiä
